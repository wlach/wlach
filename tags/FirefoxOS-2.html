<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Posts tagged 'FirefoxOS' (page 2)</title>
    <meta name="description" content="Posts tagged 'FirefoxOS' (page 2)">
    <meta name="author"      content="William Lachance">
    <meta name="keywords"    content="FirefoxOS">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="https://wlach.github.io/tags/FirefoxOS-2.html">


    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/feeds/FirefoxOS.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/feeds/FirefoxOS.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand">William Lachance's Log</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/Android.html">Android</a></li>

<li><a href="/tags/ateam.html">ateam</a></li>

<li><a href="/tags/Bikes.html">Bikes</a></li>

<li><a href="/tags/BIXI.html">BIXI</a></li>

<li><a href="/tags/Buddhism.html">Buddhism</a></li>

<li><a href="/tags/Business.html">Business</a></li>

<li><a href="/tags/Cats.html">Cats</a></li>

<li><a href="/tags/Coffee.html">Coffee</a></li>

<li><a href="/tags/Community.html">Community</a></li>

<li><a href="/tags/Counting.html">Counting</a></li>

<li><a href="/tags/Data.html">Data</a></li>

<li><a href="/tags/Data-Visualization.html">Data Visualization</a></li>

<li><a href="/tags/Docker.html">Docker</a></li>

<li><a href="/tags/Ebola.html">Ebola</a></li>

<li><a href="/tags/Eideticker.html">Eideticker</a></li>

<li><a href="/tags/email.html">email</a></li>

<li><a href="/tags/Environment.html">Environment</a></li>

<li><a href="/tags/FirefoxOS.html">FirefoxOS</a></li>

<li><a href="/tags/Food.html">Food</a></li>

<li><a href="/tags/Free-Software.html">Free Software</a></li>

<li><a href="/tags/Glean.html">Glean</a></li>

<li><a href="/tags/GNOME.html">GNOME</a></li>

<li><a href="/tags/GoFaster.html">GoFaster</a></li>

<li><a href="/tags/hbus.html">hbus</a></li>

<li><a href="/tags/Infraherder.html">Infraherder</a></li>

<li><a href="/tags/Iodide.html">Iodide</a></li>

<li><a href="/tags/iphone.html">iphone</a></li>

<li><a href="/tags/Life.html">Life</a></li>

<li><a href="/tags/Meditation.html">Meditation</a></li>

<li><a href="/tags/Meta.html">Meta</a></li>

<li><a href="/tags/Metrics-Graphics.html">Metrics Graphics</a></li>

<li><a href="/tags/Mission-Control.html">Mission Control</a></li>

<li><a href="/tags/Montreal.html">Montreal</a></li>

<li><a href="/tags/Mozilla.html">Mozilla</a></li>

<li><a href="/tags/mozregression.html">mozregression</a></li>

<li><a href="/tags/MSF.html">MSF</a></li>

<li><a href="/tags/Music.html">Music</a></li>

<li><a href="/tags/Nixi.html">Nixi</a></li>

<li><a href="/tags/Open-Data.html">Open Data</a></li>

<li><a href="/tags/Orangutan.html">Orangutan</a></li>

<li><a href="/tags/Pandaboard.html">Pandaboard</a></li>

<li><a href="/tags/Perfherder.html">Perfherder</a></li>

<li><a href="/tags/Performance.html">Performance</a></li>

<li><a href="/tags/Philosophy.html">Philosophy</a></li>

<li><a href="/tags/Polling.html">Polling</a></li>

<li><a href="/tags/Profiling.html">Profiling</a></li>

<li><a href="/tags/Psychology.html">Psychology</a></li>

<li><a href="/tags/Python.html">Python</a></li>

<li><a href="/tags/Release-Engineering.html">Release Engineering</a></li>

<li><a href="/tags/Responsiveness.html">Responsiveness</a></li>

<li><a href="/tags/Social-Media.html">Social Media</a></li>

<li><a href="/tags/SQL.html">SQL</a></li>

<li><a href="/tags/Statistics.html">Statistics</a></li>

<li><a href="/tags/Talos.html">Talos</a></li>

<li><a href="/tags/Taskcluster.html">Taskcluster</a></li>

<li><a href="/tags/Telemetry.html">Telemetry</a></li>

<li><a href="/tags/Time.html">Time</a></li>

<li><a href="/tags/Toronto.html">Toronto</a></li>

<li><a href="/tags/Transit.html">Transit</a></li>

<li><a href="/tags/Transit-to-Go.html">Transit to Go</a></li>

<li><a href="/tags/Treeherder.html">Treeherder</a></li>

<li><a href="/tags/Usability.html">Usability</a></li>

<li><a href="/tags/Video.html">Video</a></li>

<li><a href="/tags/Web.html">Web</a></li>

<li><a href="/tags/WifiDog.html">WifiDog</a></li>

<li><a href="/tags/zen.html">zen</a></li>

<li><a href="/tags/I%CC%82le-Sans-Fil.html">ÃŽle Sans Fil</a></li>
              </ul>
            </li>
            <li>
              <a href="/About.html">About</a>
            </li> 
            <li><a href="/feeds/FirefoxOS.atom.xml">Atom</a></li>
            <li><a href="/feeds/FirefoxOS.rss.xml">RSS</a></li>
          </ul>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">

          <h1>Posts tagged <em>FirefoxOS</em></h1>

          <article>
  <header>
    <p><span class="tags"><a href="/tags/Android.html">Android</a>, <a href="/tags/ateam.html">ateam</a>, <a href="/tags/FirefoxOS.html">FirefoxOS</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2013/03/documentation-for-mozdevice/'>Documentation for mozdevice</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Mar 11th, 2013</p>
  </header>

<p>Just wanted to give a quick heads up that as part of the ateam&#8217;s ongoing effort to improve the documentation of our automated testing infrastructure, we now have <a href="https://mozbase.readthedocs.org/en/latest/mozdevice.html">online documentation</a> for mozdevice, the python library we use for interacting with Android- and FirefoxOS-based devices in automated testing.</p>

<p>Mozdevice is used in pretty much every one of our testing frameworks that has mobile support, including mochitest, reftest, <a href="https://wiki.mozilla.org/Buildbot/Talos">talos</a>, <a href="https://github.com/mozilla/autophone">autophone</a>, and <a href="https://wiki.mozilla.org/Project_Eideticker">eideticker</a>. Additionally, mozdevice is used by release engineering to clean up, monitor, and otherwise manage 
 <strike>our hundred-odd</strike> the 1200*** tegra and panda development boards that we use in <a href="http://tbpl.mozilla.org">tbpl</a>. See <a href="https://hg.mozilla.org/build/tools/file/tip/sut_tools">sut_tools</a> (old, buildbot-based, what we currently use) and <a href="https://github.com/mozilla/mozpool">mozpool</a> (the new and shiny future).</p>

<ul>
 <li>Thanks to Dustin Mitchell for the correction.</li></ul>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Eideticker.html">Eideticker</a>, <a href="/tags/FirefoxOS.html">FirefoxOS</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2013/02/finding-a-camera-for-eideticker/'>Finding a camera for Eideticker</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Feb 19th, 2013</p>
  </header>

<p><em>[ For more information on the Eideticker software I&#8217;m referring to, see <a href="http://wrla.ch/blog/2012/06/mobile-firefox-measuring-how-a-browser-feels/">this entry</a> ]</em></p>

<p>Ok, so as I mentioned <a href="http://wrla.ch/blog/2013/02/eideticker-for-firefoxos/">last time</a> I&#8217;ve been looking into making Eideticker work for devices without native HDMI output by capturing their output with some kind of camera. So far I&#8217;ve tried four different DSLRs for this task, which have all been inadequate for different reasons. I was originally just going to write an email about this to a few concerned parties, but then figured I may as well structure it into a blog post. Maybe someone will find it useful (or better yet, have some ideas.)</p>

<p><strong>Elmo MO&ndash;1</strong></p>

<p>This is the device I mentioned last time. Easy to set up, plays nicely with the Decklink capture card we&#8217;re using for Eideticker. It seemed almost perfect, except for that:</p>

<ol>
 <li>The image quality is <em>really</em> bad (beaten even by $200 standard digital camera). Tons of noise, picture quality really bad. Not *necessarily* a deal breaker, but it still sucks.</li>
 <li>More importantly, there seems to be no way of turning off the auto white balance adjustment. This makes automated image analysis impossible if the picture changes, as is highlighted in this video:   
  <video width="400px" src="/files/eideticker/elmo-white-balance-problem.webm" controls="controls"></video></li></ol>

<p><strong>Canon Rebel T4i</strong></p>

<p>This is the first camera that was recommended to me at the camera shop I&#8217;ve been going to. It does have an HDMI output signal, but it&#8217;s not &#8220;clean&#8221;. This <a href="http://www.hireacamera.com/blog/index.asp?post=canon-eos-650d--hdmi-explained">blog post</a> explains the details better than I could. Next.</p>

<p><strong>Nikon D600</strong></p>

<p>Supposedly does native clean 720p output, but unfortunately the <a href="http://vimeo.com/49952287">output is in a &#8220;box&#8221;</a> so isn&#8217;t recognized by the Decklink cards that we&#8217;re using (which insist on a full 1280&#215;720 HDMI signal to work). Next.</p>

<p><strong>Nikon D800</strong></p>

<p>It is possible to configure this one to not put a box around the output, so the Decklink card does recognize it. Except that the camera shuts off the HDMI signal whenever the input parameters change on the card or the signal input is turned on, which essentially makes it useless for Eideticker (this happens every time we start the Eideticker harness). Quite a shame, as the HDMI signal is quite nice otherwise.</p>

<p>&#8212;</p>

<p>To be clear, with the exception of the Elmo all the devices above seem like fine cameras, and should more than do for manual captures of B2G or Android phones (which is something we probably want to do anyway). But for Eideticker, we need something that works in automation, and none of the above fit the bill. I guess I could explore using a &#8220;real&#8221; video camera as opposed to a DSLR acting like one, though I suspect I might run into some of the same sorts of issues depending on how the HDMI output of those devices behaves.</p>

<p>Part of me wonders whether a custom solution wouldn&#8217;t work better. How complicated could it be to construct your own digital camera anyway? ðŸ˜‰ Hook up a fancy camera sensor to a <a href="http://pandaboard.org">pandaboard</a>, get it to output through the HDMI port, and then we&#8217;re set? Or better yet, maybe just get a fancy webcam like the <a href="http://en.wikipedia.org/wiki/PlayStation_Eye">Playstation Eye</a> and hook it up directly to a computer? That would eliminate the need for our expensive video capture card setup altogether.</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Eideticker.html">Eideticker</a>, <a href="/tags/FirefoxOS.html">FirefoxOS</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2013/02/eideticker-for-firefoxos/'>Eideticker for FirefoxOS</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Feb 1st, 2013</p>
  </header>

<p><em>[ For more information on the Eideticker software I&#8217;m referring to, see <a href="http://wrla.ch/blog/2012/06/mobile-firefox-measuring-how-a-browser-feels/">this entry</a> ]</em></p>

<p>Here&#8217;s a long overdue update on where we&#8217;re at with Eideticker for FirefoxOS. While we&#8217;ve had a good amount of success getting <a href="http://eideticker.wrla.ch">useful, actionable data</a> out of Eideticker for Android, so far we haven&#8217;t been able to replicate that success for FirefoxOS. This is not for lack of trying: first, <a href="http://nakubu.com/">Malini Das</a> and then me have been working at it since summer 2012.</p>

<p>When it comes right down to it, instrumenting Eideticker for B2G is just a whole lot more complex. On Android, we could take the operating system (including support for all the things we needed, like HDMI capture) as a given. The only tricky part was instrumenting the capture so the right things happened at the right moment. With FirefoxOS, we need to run these tests on entire builds of a whole operating system which was constantly changing. Not nearly as simple. That said, I&#8217;m starting to see light at the end of the tunnel.</p>

<p><strong>Platforms</strong></p>

<p>We initially selected the <a href="http://pandaboard.org">pandaboard</a> as the main device to use for eideticker testing, for two reasons. First, it&#8217;s the same hardware platform we&#8217;re targeting for other b2g testing in tbpl (mochitest, reftest, etc.), and is the platform we&#8217;re using for running Gaia UI tests. Second, unlike every other device that we&#8217;re prototyping FirefoxOS on (to my knowledge), it has HDMI-out capability, so we can directly interface it with the Eideticker video capture setup.</p>

<p>However, the panda also has some serious shortcomings. First, it&#8217;s obviously not a platform we&#8217;re shipping, so the performance we&#8217;re seeing from it is subject to different factors that we might not see with a phone actually shipped to users. For the same reason, we&#8217;ve had many problems getting B2G running reliably on it, as it&#8217;s not something most developers have been hacking on a day to day basis. Thanks to the heroic efforts of Thomas Zimmerman, we&#8217;ve mostly got things working ok now, but it was a fairly long road to get here (several months last fall).</p>

<p>More recently, we became aware of something called an <a href="http://www.elmousa.com/">Elmo</a> which might let us combine
 <br />the best of both worlds. An elmo is really just a tiny mounted video camera with a bunch of outputs, and is I understand most commonly used to project documents in a classroom/presentation setting. However, it seems to do a great job of capturing mobile phones in action as well.</p>

<video width="400px" src="/files/eideticker/startup-test-elmo.webm" controls="controls"></video>

<p>The nice thing about using an external camera for the video capture part of eideticker is that we are no longer limited to devices with HDMI out &#8212; we can run the standard set of automated tests on ANYTHING. We&#8217;ve already used this to some success in getting some videos of FirefoxOS startup times versus Android on the Unagi (a development phone that we&#8217;re using internally) for manual analysis. Automating this process may be trickier because of the fact that the video capture is no longer &#8220;perfect&#8221;, but we may be able to work around that (more discussion about this later).</p>

<p><strong>FirefoxOS web page tests</strong></p>

<p>These are the same tests we run on Android. They should give us an idea of roughly where our performance when browsing / panning web sites like CNN. So far, I&#8217;ve only run these tests on the Pandaboard and they are INCREDIBLY slow (like 1&ndash;3 frames per second when scrolling). So much so that I have to think there is something broken about our hardware acceleration on this platform.</p>

<p><strong>FirefoxOS application tests</strong></p>

<p>These are some new tests written in a framework that allows you to script arbitrary interactions in FirefoxOS, like launching applications or opening the task switcher.</p>

<p>I&#8217;m pretty happy with this. It seems to work well. The only problems I&#8217;m seeing with this is with the platform we&#8217;re running these tests on. With the pandaboard, applications look weird (since the screen resolution doesn&#8217;t remotely resemble the 320&#215;480 resolution on our current devices) and performance is abysmal. Take, for example, this capture of application switching performance, which operates only at roughly 3&ndash;4 fps:</p>

<video width="400px" src="/files/eideticker/b2g-appswitching-video.webm" controls="controls"></video>

<p><strong>So what now?</strong></p>

<p>I&#8217;m not 100% sure yet (partly it will depend on what others say as well as my own investigation), but I have a feeling that capturing video of real devices running FirefoxOS using the Elmo is the way forward. First, the hardware and driver situation will be much more representative of what we&#8217;ll actually be shipping to users. Second, we can flash new builds of FirefoxOS onto them automatically, unlike the pandaboards where you currently either need to manually flash and reset (a time consuming and error prone process) or set up an instance of <a href="https://github.com/djmitche/mozpool">mozpool</a> (which I understand is quite complicated).</p>

<p>The main use case I see with eideticker-on-panda would be where we wanted to run a suite of tests on checkin (in tbpl-like fashion) and we&#8217;d need to scale to many devices. While cool, this sounds like an expensive project (both in terms of time and hardware) and I think we&#8217;d do better with getting something slightly smaller-scale running first.</p>

<p>So, the real question is whether or not the capture produced by the Elmo is amenable to the same analysis that we do on the raw HDMI output. At the very least, some of eideticker&#8217;s image analysis code will have to be adapted to handle a much &#8220;noisier&#8221; capture. As opposed to capturing the raw HDMI signal, we now have to deal with the real world and its irritating fluctuations in ambient light levels and all that the rest. I have no doubt it is *possible* to compensate for this (after all this is what the human eye/brain does all the time), but the question is how much work it will be. Can&#8217;t speak for anyone else at Mozilla, but I&#8217;m not sure if I really have the time to start a Ph.D-level research project in computational vision. ðŸ˜‰ I&#8217;m optimistic that won&#8217;t be necessary, but we&#8217;ll just have to wait and see.</p>

</article>

<footer>
 <ul class="pagination">
  <li class="page-item"><a class="page-link" href="/tags/FirefoxOS.html">
    <quote>&larr;</quote></a></li>
  <li class="page-item"><a class="page-link" href="/tags/FirefoxOS.html">1</a></li>
  <li class="page-item active"><a class="page-link" href="/tags/FirefoxOS-2.html">2</a></li>
  <li class="page-item disabled"><a class="page-link" href="#">
    <quote>&rarr;</quote></a></li></ul></footer>
        </div>
      </div>
      <footer>
        <p>Site generated by <a href="https://github.com/greghendershott/frog">Frog</a>,
          using <a href="https://getbootstrap.com">Bootstrap</a>.</p>
        <p>Post content is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>