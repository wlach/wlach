<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Posts tagged 'Mozilla' (page 8)</title>
    <meta name="description" content="Posts tagged 'Mozilla' (page 8)">
    <meta name="author"      content="William Lachance">
    <meta name="keywords"    content="Mozilla">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="https://wlach.github.io/tags/Mozilla-8.html">


    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/feeds/Mozilla.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/feeds/Mozilla.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand">William Lachance's Log</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/Android.html">Android</a></li>

<li><a href="/tags/ateam.html">ateam</a></li>

<li><a href="/tags/Bikes.html">Bikes</a></li>

<li><a href="/tags/BIXI.html">BIXI</a></li>

<li><a href="/tags/Buddhism.html">Buddhism</a></li>

<li><a href="/tags/Business.html">Business</a></li>

<li><a href="/tags/Cats.html">Cats</a></li>

<li><a href="/tags/Coffee.html">Coffee</a></li>

<li><a href="/tags/Community.html">Community</a></li>

<li><a href="/tags/Counting.html">Counting</a></li>

<li><a href="/tags/Data.html">Data</a></li>

<li><a href="/tags/Data-Visualization.html">Data Visualization</a></li>

<li><a href="/tags/Docker.html">Docker</a></li>

<li><a href="/tags/Ebola.html">Ebola</a></li>

<li><a href="/tags/Eideticker.html">Eideticker</a></li>

<li><a href="/tags/email.html">email</a></li>

<li><a href="/tags/Environment.html">Environment</a></li>

<li><a href="/tags/FirefoxOS.html">FirefoxOS</a></li>

<li><a href="/tags/Food.html">Food</a></li>

<li><a href="/tags/Free-Software.html">Free Software</a></li>

<li><a href="/tags/GNOME.html">GNOME</a></li>

<li><a href="/tags/GoFaster.html">GoFaster</a></li>

<li><a href="/tags/hbus.html">hbus</a></li>

<li><a href="/tags/Infraherder.html">Infraherder</a></li>

<li><a href="/tags/Iodide.html">Iodide</a></li>

<li><a href="/tags/iphone.html">iphone</a></li>

<li><a href="/tags/Life.html">Life</a></li>

<li><a href="/tags/Meditation.html">Meditation</a></li>

<li><a href="/tags/Meta.html">Meta</a></li>

<li><a href="/tags/Metrics-Graphics.html">Metrics Graphics</a></li>

<li><a href="/tags/Mission-Control.html">Mission Control</a></li>

<li><a href="/tags/Montreal.html">Montreal</a></li>

<li><a href="/tags/Mozilla.html">Mozilla</a></li>

<li><a href="/tags/mozregression.html">mozregression</a></li>

<li><a href="/tags/MSF.html">MSF</a></li>

<li><a href="/tags/Music.html">Music</a></li>

<li><a href="/tags/Nixi.html">Nixi</a></li>

<li><a href="/tags/Open-Data.html">Open Data</a></li>

<li><a href="/tags/Orangutan.html">Orangutan</a></li>

<li><a href="/tags/Pandaboard.html">Pandaboard</a></li>

<li><a href="/tags/Perfherder.html">Perfherder</a></li>

<li><a href="/tags/Performance.html">Performance</a></li>

<li><a href="/tags/Philosophy.html">Philosophy</a></li>

<li><a href="/tags/Polling.html">Polling</a></li>

<li><a href="/tags/Profiling.html">Profiling</a></li>

<li><a href="/tags/Psychology.html">Psychology</a></li>

<li><a href="/tags/Python.html">Python</a></li>

<li><a href="/tags/Release-Engineering.html">Release Engineering</a></li>

<li><a href="/tags/Responsiveness.html">Responsiveness</a></li>

<li><a href="/tags/Social-Media.html">Social Media</a></li>

<li><a href="/tags/SQL.html">SQL</a></li>

<li><a href="/tags/Statistics.html">Statistics</a></li>

<li><a href="/tags/Talos.html">Talos</a></li>

<li><a href="/tags/Taskcluster.html">Taskcluster</a></li>

<li><a href="/tags/Time.html">Time</a></li>

<li><a href="/tags/Toronto.html">Toronto</a></li>

<li><a href="/tags/Transit.html">Transit</a></li>

<li><a href="/tags/Transit-to-Go.html">Transit to Go</a></li>

<li><a href="/tags/Treeherder.html">Treeherder</a></li>

<li><a href="/tags/Usability.html">Usability</a></li>

<li><a href="/tags/Video.html">Video</a></li>

<li><a href="/tags/Web.html">Web</a></li>

<li><a href="/tags/WifiDog.html">WifiDog</a></li>

<li><a href="/tags/zen.html">zen</a></li>

<li><a href="/tags/I%CC%82le-Sans-Fil.html">ÃŽle Sans Fil</a></li>
              </ul>
            </li>
            <li>
              <a href="/About.html">About</a>
            </li> 
            <li><a href="/feeds/Mozilla.atom.xml">Atom</a></li>
            <li><a href="/feeds/Mozilla.rss.xml">RSS</a></li>
          </ul>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">

          <h1>Posts tagged <em>Mozilla</em></h1>

          <article>
  <header>
    <p><span class="tags"><a href="/tags/Android.html">Android</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2012/04/an-even-better-way-of-taking-screenshots-on-android/'>An even better way of taking screenshots on Android</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Apr 3rd, 2012</p>
  </header>

<p>Just thought I&#8217;d mention this because I found it handy.</p>

<p>A while back AaronMT <a href="http://aaronmt.com/?p=527">wrote up</a> some clever instructions on taking Android screenshots by dumping the contents of &#8216;/dev/fb0&#8217; and running ffmpeg on the results. This is useful, but you need to know the resolution of the device you have connected to pass the right arguments to ffmpeg. Wouldn&#8217;t it be better if you had just one script that would work for whatever device you had plugged in?</p>

<p>In fact, there is a way to do this using the <a href="http://developer.android.com/guide/developing/tools/MonkeyRunner.html">monkeyrunner</a> utility. Intended mainly as a tool for synthesizing input on Android (more on that some other time), you can also easily get a capture of the Android screen with its python/jython API (assuming you have the Android SDK installed). Here&#8217;s a quick script which does the job:</p>

<pre><code>from com.android.monkeyrunner import MonkeyRunner, MonkeyDevice
import os
import sys

if len(sys.argv) != 2:
    print "Usage: %s &amp;lt;filename&gt;" % os.path.basename(sys.argv[0])
    sys.exit(1)

device = MonkeyRunner.waitForConnection()
result = device.takeSnapshot()
result.writeToFile(sys.argv[1], 'png')</code></pre>

<p>Copy that into a file called capture.py (or whatever), then run it like so:
 <br /><code>&lt;br /&gt;
monkeyrunner capture.py screenshot.png&lt;br /&gt;</code></p>

<p>And you&#8217;re off to the races! Nice screenshot, no utilities or non-essential command line arguments required!</p>

<p>(credit to <a href="http://stackoverflow.com/a/9311243/295132">this stackoverflow answer</a> for the idea)</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Eideticker.html">Eideticker</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2012/03/eideticker-dashboard-update/'>Eideticker dashboard update</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Mar 22nd, 2012</p>
  </header>

<p><em>[ For more information on the Eideticker software I&#8217;m referring to, see <a href="http://wrla.ch/blog/2011/11/measuring-what-the-user-sees/">this entry</a> ]</em></p>

<p>Since my <a href="http://wrla.ch/blog/2012/03/announcing-the-eideticker-mobile-performance-dashboard/">first Eideticker dashboard post</a> was <a href="http://download.cnet.com/8301-2007_4-57401261-12/whats-going-on-with-firefox-for-android/?tag=epicStories">so well received</a>, I thought I&#8217;d give a quick update on another metric that I just brought online: checkerboarding (a.k.a. the amount of time you spend waiting to see the full page after you do a swipe on your mobile device).</p>

<p><a href="http://wrla.ch/blog/2012/03/eideticker-dashboard-update/checkerboard_dashboard/" rel="attachment wp-att-503"><img src="/files/2012/03/checkerboard_dashboard.png" alt="" title="checkerboard_dashboard" width="715" height="485" class="alignnone size-full wp-image-503" srcset="/files/2012/03/checkerboard_dashboard-300x203.png 300w, /files/2012/03/checkerboard_dashboard.png 715w" sizes="(max-width: 715px) 100vw, 715px" /></a></p>

<p>[ <a href="http://wrla.ch/eideticker/dashboard/#/checkerboarding">link to real thing</a> ]</p>

<p>Unfortunately the news here is not as good as before: as the numbers indicate, the new Native Fennec currently performs substantially worse than the version in Android market. This is a known issue, and is currently being tracked in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=719447">bug 719447</a>.</p>

<p>Next up: Seeing how we do against Google Chrome for Android.</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Eideticker.html">Eideticker</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2012/03/announcing-the-eideticker-mobile-performance-dashboard/'>Announcing the Eideticker mobile performance dashboard</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Mar 16th, 2012</p>
  </header>

<p>Over the last while, Clint Talbert and I have been working on setting up automatic mobile performance tests using Eideticker (a framework to measure perceived Firefox performance by video capturing automated browser interactions: for more information, see my <a href="http://wrla.ch/blog/2011/11/measuring-what-the-user-sees/">earlier post</a>).</p>

<p>There&#8217;s many reasons why this is interesting, but probably the most important one is that it can measure differences reliably across different types of mobile browsers. Currently I&#8217;m testing the old XUL fennec, the Android stock browser, and the latest nightlies.</p>

<p>I&#8217;m pleased to announce that the first iteration of the dashboard is available for public consumption, on my site.</p>

<p><a href="http://wrla.ch/eideticker/dashboard/#/canvas">http://wrla.ch/eideticker/dashboard/#/canvas</a></p>

<div class="figure"><img src="/files/2012/03/eideticker-results.png" alt="Eideticker Results" />
 <p class="caption">Eideticker Results</p></div>

<p>The demo is pretty cheesey (just click on any of the datapoints to see the video capture), but nonetheless does seem to illustrate some interesting differences between the three browsers. The big jump in performance for nightly comes from the landing of the Maple branch, which happened earlier this week. Hopefully this validates some of the work that the mobile/graphics team has been doing over the past while. Exciting times!</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Android.html">Android</a>, <a href="/tags/Mozilla.html">Mozilla</a>, <a href="/tags/Pandaboard.html">Pandaboard</a></span></p>
    <h2><a href='/blog/2012/02/playing-with-pandas/'>Playing with pandas</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Feb 10th, 2012</p>
  </header>

<p>For the last few days I&#8217;ve been experimenting with getting a Pandaboard running Android 4.0, continuing the work that Clint Talbert <a href="http://cmtalbert.wordpress.com/2011/10/12/pandaboard-status/">started in the fall</a> to get these boards for use as a replacement for the Tegra in Mozilla&#8217;s android automation. The first objective is to get a reproducible build going, after that we&#8217;ll try to get some of our custom tools (<a href="https://wiki.mozilla.org/Mobile/Fennec_Unittests/Remote_Testing">SUTAgent</a> &#38; friends) installed by default.</p>

<p>So far this has been&#8230; interesting. Much as Clint did before, I thought I&#8217;d document some of the notes on what I did in the hopes that they&#8217;ll be helpful to other people trying to do similar things.</p>

<p>Getting things up and running is a two step process. First, you build the beast. This part is straightforward, just follow the instructions here:</p>

<p>At least the build part is more or less straightforward. Just follow the instructions here:</p>

<ul>
 <li><a href="http://source.android.com/source/building.html">http://source.android.com/source/building.html</a></li>
 <li><a href="http://source.android.com/source/building-devices.html">http://source.android.com/source/building-devices.html</a></li></ul>

<p>Note that you almost certainly want to build in the &#8220;eng&#8221; configuration, which is rooted and (apparently) has some extra tools installed.</p>

<p>Installing it is a little more tricky. The way they want you to do this is put the pandaboard into a special mode and copy the stuff you built onto an sdcard. Seem a little funny to you? Yeah, it does to me too. Why not just build an sdcard image directly?
 <br />Nonetheless, this is the officially supported way of imaging a pandaboard, so let&#8217;s just follow it until we can think of a better way of doing things. The instructions for doing this on the pandaboard are located in the source tree here:</p>

<p><code>&lt;a href="http://source-android.frandroid.com/device/ti/panda/README"&gt;device/ti/panda/README&lt;/a&gt;</code></p>

<p>These are mostly correct as far as I can tell, but there&#8217;s a few gotchas. First, you need to run the commands mentioned as root unless you&#8217;ve configured USB to be configurable by your user. Second, most of those commands are not in the path by default so you&#8217;ll need to specify the full path to e.g. the fastboot utility. The instructions <a href="http://fosiao.com/node/19">here</a> cover these exception cases: I recommend following them instead.</p>

<p>One thing which neither document mentions is that you really need to make sure your sdcard is wiped completely clean before using fastboot. The &#8220;oem format&#8221; step only recreates the partition table, it doesn&#8217;t delete any corrupted partitions. If you reboot while these are still in place, it will try to bring up your corrupted version of Android, not the fastboot console. I spent quite some time debugging why I couldn&#8217;t properly flash the operating system before realizing this. Easiest way to get around this is to dd <code>/dev/zero</code> onto the sdcard before beginning the flashing process.</p>

<p>Also, while not strictly necessary to get something up and running, I recommend highly getting an HDMI monitor as well as a serialUSB adapter. The former is useful to see if your Android device actually successfully booted up, the latter is useful for debugging boot issues where you don&#8217;t get that far (the serial console is always available from boot).</p>

<p>So, after painfully learning about the above caveats, I have managed to get things mostly working. I can see the ICS homescreen on my attached HDMI monitor and interact with it if I attach a USB mouse. The one gotcha is that both ethernet and WIFI networking are totally broken. Plugging in an ethernet cable or connecting to a WIFI network seems to result in the machine randomly rebooting, with the logs saying nothing useful. Both of these things are ostensibly supposed to be working according to the latest I&#8217;ve read from Google so I&#8217;m not exactly sure what&#8217;s going on. Investigations will continue.</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Eideticker.html">Eideticker</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2012/01/yet-more-checkerboarding-analysis/'>Yet more checkerboarding analysis</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Jan 25th, 2012</p>
  </header>

<p>I&#8217;ve been spending a bit more time on refining the checkerboarding tests in Eideticker that I talked about last time. Most of my work has been focused on making the results as representative of a real world scenario as possible, to that effect I&#8217;ve been working on:</p>

<ul>
 <li>Changed the test case from a web site of my own concoction to a more realistic example (the <a href="http://taskjs.org">taskjs.org</a> site)</li>
 <li>Use actual Android native events (via <a href="http://developer.android.com/guide/developing/tools/monkeyrunner_concepts.html">MonkeyRunner</a>) to synthesize touch-based scrolling instead of simulating the event in JavaScript (which exercises a completely different codepath).</li>
 <li>Fixing various synchronization issues to make results more repeatable. Before captures were of wildly variable lengths, which made the numbers extremely suspect. There&#8217;s probably still a few issues, but much less than before.</li></ul>

<p>The end result of this is a framework that gives much more meaningful results. The bad news is that the results that I&#8217;m measuring don&#8217;t show a very positive picture for where we&#8217;re at with the native re-write of Firefox. Even relative to the version of mobile Firefox which is currently on the Android Market, we still have some catching up to do. Here&#8217;s some video of the &#8220;old&#8221; firefox in action:</p>

<video src="/files/eideticker/taskjs_xul.webm" width="600px" controls="controls"></video>

<p>And here&#8217;s the Native fennec (what we&#8217;re currently offering in nightly, with some minor modifications by me to change the way the &#8220;checkerboard&#8221; is drawn for analysis purposes):</p>

<video src="/files/eideticker/taskjs_native.webm" width="600px" controls="controls"></video>

<p>The numbers behind this comparison:</p>

<table>
 <tr>
  <td>Platform</td> 
  <td>Percent checkerboarding over run of test</td></tr>
 <tr>
  <td>Old Fennec</td> 
  <td>2%</td></tr>
 <tr>
  <td>Native Fennec</td> 
  <td>57%</td></tr></table>

<p>(by the way, this performance regression is filed as <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=719447">bug 719447</a>)</p>

<p>I know there&#8217;s lots of great effort going into improving this situation, so I have hope that we&#8217;ll be doing much better on this metric in the coming days/weeks. The process for creating these videos/analyses is mostly automated at this point, so my plan is to create a small dashboard (ala <a href="http://arewefastyet.com">arewefastyet.com</a>) to measure these numbers over time on the latest nightlies. Stay tuned!</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Data-Visualization.html">Data Visualization</a>, <a href="/tags/Eideticker.html">Eideticker</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2012/01/measuring-reduced-checkerboarding-in-mobile-fennec/'>Measuring reduced checkerboarding in mobile Fennec</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Jan 3rd, 2012</p>
  </header>

<p>After my <a href="http://wrla.ch/blog/2011/12/year-end-eideticker-update/">post</a> on measuring checkerboarding in mobile Firefox, <a href="http://cmtalbert.wordpress.com/">Clint Talbert</a> (my fearless manager) suggested I run a before and after test to measure the improvement that just landed as part of <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=709152">bug 709512</a>. After a bit of cleanup, I did so, measuring the delta between my build on December 20th and the latest version of Aurora. The difference is pretty remarkable: at least on the LG G2X that I&#8217;ve been using for testing, we&#8217;ve gone from checkerboarding between 10&ndash;20% of the time and not checkerboarding almost at all (in between two runs of the test with the Aurora build, there is exactly one frame that checkerboards). All credit to <a href="http://chrislord.net/blog">Chris Lord</a> for that!</p>

<p>See the video evidence for yourself. Before:</p>

<video src="/files/eideticker/lotsocheckerboarding.webm" width="600px" controls="controls"></video>

<p>After:</p>

<video src="/files/eideticker/almostnocheckerboarding.webm" width="600px" controls="controls"></video>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Data-Visualization.html">Data Visualization</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2011/12/year-end-eideticker-update/'>Year end Eideticker update</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Dec 23rd, 2011</p>
  </header>

<p>Just before I leave for some Christmas vacation, it&#8217;s time for another update on the state of <a href="http://wrla.ch/blog/2011/11/measuring-what-the-user-sees/">Eideticker</a>. Since I last blogged about the software, I&#8217;ve been working on the following three areas:</p>

<ol>
 <li>Coming up with better algorithm (green screen / red screen) for both determining the area of the capture as well as the start/end of the capture. The harness was already flood filling the area with these colours at the beginning/end of the capture, but now we&#8217;re actually using this information. The code&#8217;s a little hacky, but it seems to work well enough for the test cases I&#8217;ve been using so far.</li>
 <li>As a demonstration, I wrote up a quick test that demonstrates checkerboarding on mobile Fennec, and wrote up a quick bit of analysis code to detect this pattern and give an overall measure of how much this test &#8220;checkerboards&#8221; (i.e. has regions that are not fully painted when the user scrolls). As I understand this is an area that our mobile team is currently working on this problem quite a bit, it will be interesting to watch the numbers given by this test and see if things improve.</li>
 <li>It&#8217;s a minor thing, but you can now view a complete webm movie of the captured movie right from the web interface.</li></ol>

<p>Here&#8217;s a quick demonstration video that shows all the above in action. As before, you might want to watch this full screen:</p>

<video src="/files/eideticker/eideticker-2011-12-21.webm" width="600px" controls="controls"></video>

<p>Happy holidays!</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2011/12/eideticker-areas-to-explore/'>Eideticker areas to explore</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Dec 9th, 2011</p>
  </header>

<p>So I got some nice feedback on my <a href="http://wrla.ch/blog/2011/12/eideticker-update/">Eideticker post</a> yesterday on various channels. It seems like some people are interested in hacking on the analysis portion, so I thought I&#8217;d give some quick pointers and suggestions of things to look at.</p>

<ol>
 <li>As I mentioned yesterday, the frame analysis is rather stupid. We need to come up with a better algorithm for disambiguating input noise (small fluctuations in the HDMI signal?) from actual changes in the page. Unfortunately the breadth of things that Eideticker&#8217;s meant to analyze makes this a bit difficult. I.e. edge detection probably wouldn&#8217;t work for something like Microsoft&#8217;s <a href="http://ie.microsoft.com/testdrive/performance/psychedelicbrowsing/Default.html">psychedelic browsing demo</a>. I suspect the best route here is to put some work into better understanding the nature of this &#8220;noise&#8221; and finding a way to filter it out explicitly.</li>
 <li>Our analysis code is still rather slow, and is crying out to be parallelized (either by using multiple cores of the same CPU or a GPU). Burak YiÄŸit Kaya recommended I look into <a href="http://mathema.tician.de/software/pycuda">PyCuda</a> which looks interesting. It looks like there are other possibilities as well though.</li>
 <li>Clipping capture by green screen/red screen. This should be doable by writing some relatively simple code to detect large amounts of green and red and then ignoring previous/current/subsequent frames as appropriate.</li>
 <li>Moar test cases! It was initially suggested to use some of the classic benchmarks, but these only seem to barely work on Fennec (at least with the setup I have). I don&#8217;t know if this is fixable or not, but until it is, we might be better off coming up with more reasonable/realistics measures of visual performance.</li></ol>

<p>You might be able to find other inspiration on the <a href="https://wiki.mozilla.org/Project_Eideticker">Eideticker project page</a> (note that some of this is out of date).</p>

<p>You obviously need the decklink card to perform captures, but the analysis portion of Eideticker can be used/modified on any machine running Linux (Mac should also work, but is untested). To get up and running, just follow the instructions in <a href="https://github.com/mozilla/eideticker/blob/master/README.md">README.md</a>, dump a pregenerated capture into the captures/ directory (here&#8217;s <a href="http://people.mozilla.com/~wlachance/clock.zip">one</a> of a clock), and off you go! The actual analysis code (such as it is) is currently located in <a href="https://github.com/mozilla/eideticker/blob/master/src/videocapture/videocapture/capture.py">src/videocapture/videocapture/capture.py</a> while the web interface is in <a href="https://github.com/mozilla/eideticker/blob/master/src/webapp">https://github.com/mozilla/eideticker/blob/master/src/webapp</a>.</p>

<p>I&#8217;m going to be out later today (Friday), but I&#8217;m mostly around on IRC M-F 9ish&ndash;5ish EST on irc.mozilla.org #ateam as `wlach`. Feel free to pester me with questions!</p>

<p>P.S. I didn&#8217;t really cover infrastructure/automation portions above as I suspect people will find that less interesting (especially without a video capture card to test with), but you can look at my <a href="http://groups.google.com/group/mozilla.tools/browse_thread/thread/a469b7909af589de#">newsgroup post</a> from yesterday if you want to see what I&#8217;ll likely be up to over the next few weeks.</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Data-Visualization.html">Data Visualization</a>, <a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2011/12/eideticker-update/'>Eideticker update</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Dec 8th, 2011</p>
  </header>

<p>Since I last <a href="http://wrla.ch/blog/2011/11/measuring-what-the-user-sees/">blogged</a> about Eideticker, I&#8217;ve made some good progress. Here&#8217;s some highlights:</p>

<ol>
 <li>Eideticker has a new, <a href="https://github.com/mozilla/eideticker/blob/master/bin/runtest.py">much simpler harness</a> and tests are much easier to write. Initially, I was using <a href="https://wiki.mozilla.org/Buildbot/Talos">Talos</a> for this task with the idea that it&#8217;s better not to have duplicate code where it&#8217;s not really required. Seemed like a fine idea in principle, but in practice Talos&#8217;s architecture (which is really oriented around running a large sequence of tests and uploading the results to a central server) was difficult to extend to do what we need to do. At heart, eideticker really only needs to do a few things right now (start up Firefox, start videocapture, load a webpage, stop videocapture) so it&#8217;s best to keep things simple.</li>
 <li>I&#8217;ve reworked the capture analysis API to use <a href="http://numpy.scipy.org">numpy</a> behind the scenes. It&#8217;s still not quite as fast as I would like (doing a framediff analysis on a 30 second animation still takes a minute or so on my fast machine), but we&#8217;re doing an order of magnitude better than before. numpy also seem to have quite the library of routines for doing the types of matrix algebra useful in image analysis, which should be helpful as the project progresses.</li>
 <li>I added the beginnings of a fancy pants web interface for browsing captures and doing visualizations on them! I&#8217;m pretty happy with how this is turning out so far, it&#8217;s already been an incredibly useful tool for debugging Eideticker&#8217;s analysis system and I think it will be equally useful for understanding Firefox&#8217;s behaviour in general.</li></ol>

<p>Here&#8217;s an example analysis session, where I examine a ~60 second capture of the fishtank demo from Microsoft, borrowed from Mark Cote&#8217;s <a href="http://brasstacks.mozilla.com/speedtests/results.html">speedtest</a> library. You might want to view this fullscreen:</p>

<video src="/files/eideticker/eideticker-20111207.webm" width="600px" controls="controls"></video>

<p>A few interesting things to note about this capture:</p>

<ol>
 <li>Our frame comparison algorithm is still comparatively dumb, it just computes the norm of the difference in RGB values between two frames. Since there&#8217;s a (very tiny) amount of noise in the capture, we have to use a threshold to determine whether two frames are the same or not. For all that, the FPS estimate it comes with for the fishtank demo seems about right (and unfortunately at 2 fps, it&#8217;s not particularly good).
  <br /></li>
 <li>I added a green screen / red screen at the start / end of every capture to eliminate race conditions with starting the capture, but haven&#8217;t yet actually taken those frames out of the analysis.
  <br /></li>
 <li>If you look carefully at the animation, not all of the fish that should be displaying in the demo are. I think this has to do with the new native version of Fennec that I&#8217;m using to test (old versions don&#8217;t exhibit this property). I filed <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=708633">a bug</a> for this.</li></ol>

<p>What&#8217;s next? Well, as I mentioned last time, the real goal is to create a tool that developers will find useful. To that end, we have plans to set up an Eideticker machine in Mozilla Mountain View office that more people can use (either locally or remotely over the VPN). For this to be workable, I need to figure out how to get the full setup working on &#8220;demand&#8221;. Most of the setup already allows this, with one big exception: the actual Android device that we want to capture video from. The LG G2X that I&#8217;m currently using works fine when I have physical access to it, but as far as I can tell it&#8217;s not possible to get it outputting proper video of an application unless it&#8217;s in an unlocked state (which it obviously isn&#8217;t most of the time).</p>

<p>My current thinking is that a <a href="http://pandaboard.org/">Panda Board</a> running a Vanilla version of Android might be a good candidate for a permanently-connected device. It is capable of HDMI output, doesn&#8217;t have unwanted the bells and whistles of a physical phone (e.g. a lock screen), and should be much reliable due to its physical networking. So far I haven&#8217;t <a href="http://ask.linaro.org/questions/361/hdmi-output-on-android-build">had much luck</a> getting it the video output working with the Decklink capture card, but I&#8217;ve only just started trying. Work will continue.</p>

<p>If I can somehow figure that out, and smooth out some of the rough edges with the web interface and capture API, I think the stage will be set for us all to do some pretty interesting stuff! Looking forward to it.</p>

</article>

<article>
  <header>
    <p><span class="tags"><a href="/tags/Mozilla.html">Mozilla</a></span></p>
    <h2><a href='/blog/2011/11/a-planet-to-call-our-own/'>A planet to call our own</a></h2>
    <p class='index-date'><span class="glyphicon glyphicon-time" aria-hidden="true"></span> Nov 18th, 2011</p>
  </header>

<p>Just a quick note that a planet for Mozilla Tools &#38; Automation (the so-called &#8220;a team&#8221;) is now up, thanks to Reed Loden. With the exception of <a href="http://k0s.org/mozilla/blog">Jeff Hammel</a>, everyone there was already being syndicated on <a href="http://planet.mozilla.org">Planet Mozilla</a>, but this should offer a more focused feed of our doings for those who can&#8217;t always keep up with the firehose. Have a look:</p>

<p><a href="http://planet.mozilla.org/ateam">http://planet.mozilla.org/ateam</a></p>

<p>Who should care? Well, we maintain all the major testing frameworks like Mochitest, Reftest, and Talos as well as automated tooling for QA like <a href="https://developer.mozilla.org/en/Mozmill">Mozmill</a>. Our latest work is focused on making sure that Firefox is as robust, responsive, and performant as possible on desktop and mobile. In short, if you&#8217;re writing or verifying code from mozilla-central, what we&#8217;re doing probably affects you. Please let us know what you think about our projects and whether there&#8217;s anything we can do to make your job easier: we&#8217;re listening.</p>

<p><strong>Quick bonus note</strong>: It&#8217;s not immediately obvious (or at least it wasn&#8217;t to me), but Mozilla has some fairly finely tuned infrastructure for running planets. If your team or group wants one, it&#8217;s definitely better to plug into that instead of rolling your own. ðŸ˜‰ Reed Loden is the maintainer and the source <a href="http://viewvc.svn.mozilla.org/vc/projects/planet/">lives in subversion</a>.</p>

</article>

<footer>
 <ul class="pagination">
  <li><a href="/tags/Mozilla-7.html">
    <quote>&larr;</quote></a></li>
  <li><a href="/tags/Mozilla.html">1</a></li>
  <li><a href="/tags/Mozilla-2.html">2</a></li>
  <li><a href="/tags/Mozilla-3.html">3</a></li>
  <li><a href="/tags/Mozilla-4.html">4</a></li>
  <li><a href="/tags/Mozilla-5.html">5</a></li>
  <li><a href="/tags/Mozilla-6.html">6</a></li>
  <li><a href="/tags/Mozilla-7.html">7</a></li>
  <li class="active"><a href="/tags/Mozilla-8.html">8</a></li>
  <li><a href="/tags/Mozilla-9.html">9</a></li>
  <li><a href="/tags/Mozilla-9.html">
    <quote>&rarr;</quote></a></li></ul></footer>
        </div>
      </div>
      <footer>
        <p>Site generated by <a href="https://github.com/greghendershott/frog">Frog</a>,
          using <a href="https://getbootstrap.com">Bootstrap</a>.</p>
        <p>Post content is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>